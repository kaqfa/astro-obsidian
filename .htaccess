# Disable Passenger caching
PassengerBuffering off
PassengerBufferResponse off

# Disable all caching
<IfModule mod_headers.c>
    Header unset ETag
    Header always set Cache-Control "no-store, no-cache, must-revalidate, private"
    Header always set Pragma "no-cache"
    Header always set Expires "0"
</IfModule>

# Disable browser caching
<IfModule mod_expires.c>
    ExpiresActive Off
</IfModule>

# Ensure requests are passed to the app
RewriteEngine On
# Don't rewrite static files
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]
# Pass everything else to Passenger
RewriteRule ^(.*)$ /$1 [PT,L]
